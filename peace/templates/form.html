<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
    <title>Suspect Forms | Peace Digital</title>
    <link rel="stylesheet" href="{% static 'css/form.css' %}">
    <link rel="stylesheet" href="{% static 'css/dark_mode.css' %}">
    <link rel="stylesheet" href="{% static 'css/form_styles.css' %}">
    <script src="{% static 'js/theme.js' %}" defer></script>
    <link rel="stylesheet" href="{% static 'css/forml.css' %}">
    <link rel="stylesheet" href="{% static 'css/report.css' %}">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="robots" content="NONE,NOARCHIVE">
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="login">
    <!-- Container -->
    <div id="container">
        <!-- Header -->
        <div id="header">
            <div id="branding">
                <h1 id="site-name"><a href="{% url 'answer' %}">Suspect Questionnaire</a></h1><br>
                <button class="theme-toggle">
                    <div class="visually-hidden theme-label-when-auto">Toggle theme (current theme: auto)</div>
                    <div class="visually-hidden theme-label-when-light">Toggle theme (current theme: light)</div>
                    <div class="visually-hidden theme-label-when-dark">Toggle theme (current theme: dark)</div>
                    <svg aria-hidden="true" class="theme-icon-when-auto">
                        <use xlink:href="#icon-auto" />
                    </svg>
                    <svg aria-hidden="true" class="theme-icon-when-dark">
                        <use xlink:href="#icon-moon" />
                    </svg>
                    <svg aria-hidden="true" class="theme-icon-when-light">
                        <use xlink:href="#icon-sun" />
                    </svg>
                </button>
            </div>  
        </div>
        <!-- END Header -->
        <div class="main" id="main">
            <div id="content-start" class="content" tabindex="-1">
                <!-- Content -->
                <div id="content" class="colM">      
                    <div id="content-main" >
                        <!-- Add Answer Form Section -->
                        <section id="add-answer" {% if not answer_form_visible %}class="hidden"{% endif %}>
                            <form action="{% url 'answer' %}" method="post" id="answer-form">   
                                {% csrf_token %}
                                <!-- Suspect Details Section -->
                                <div class="form-section">
                                    <h2><big>Suspect Personal Information:</big></h2><br><br>
                                    <div class="form-field">                   
                                        <label for="{{ answer_form.case_description.id_for_label }}" class="required">Case Description:</label><br><br>
                                        {{ answer_form.case_description }}
                                        {{ answer_form.case_description.errors }}
                                    </div>
                                    <br><br>
                                    <div class="form-field">
                                        <label for="{{ answer_form.unique_id.id_for_label }}" class="required">Suspect Unique Identity:</label><br><br>
                                        {{ answer_form.unique_id }}
                                        {{ answer_form.unique_id.errors }}
                                    </div><br>  
                                </div>
                                <br><br><br>

                                <!-- Answer Information Section -->
                                <div class="form-section">
                                    <h2><big>Case Related Information:</big></h2><br>
                                    <div class="form-field">
                                        <label for="{{ answer_form.trace.id_for_label }}" class="required">{{ answer_form.trace.label }}</label><br><br>
                                        {{ answer_form.trace }}
                                        {{ answer_form.trace.errors }}
                                    </div><br>
                                    <div class="form-field">
                                        <label for="{{ form.know_complainant.id_for_label }}" class="required">{{ form.know_complainant.label }}</label><br><br>
                                        {{ form.know_complainant }}
                                        {{ form.know_complainant.errors }}
                                    </div><br>
                                    <div class="form-field">
                                        <label for="{{ form.involved_with_complainant.id_for_label }}" class="required">{{ form.involved_with_complainant.label }}</label><br><br>
                                        {{ form.involved_with_complainant }}
                                        {{ form.involved_with_complainant.errors }}
                                    </div><br>
                                    <div class="form-field">
                                        <label for="{{ form.recidivist.id_for_label }}" class="required">{{ form.recidivist.label }}</label><br><br>
                                        {{ form.recidivist }}
                                        {{ form.recidivist.errors }}
                                    </div>
                                </div>
                                <br><br><br>
                                <div class="submit-row">
                                    <input type="submit" value="Save">
                                    <input type="submit"  value="Clear">
                                </div>
                                <br>
                            </form>
                        </section>

                        <!-- Report Form Section -->
                        <section id="report-form" {% if not report_form_visible %}class="hidden"{% endif %}>
                            <form method="post" action="{% url 'report' %}" class="report-form" id="report-form">
                                {% csrf_token %}
                                <label for="serial_number">Serial Number:</label>
                                <input type="text" name="serial_number" required>
                                <div class="button-container">
                                    <button type="submit" class="generate-button button">Generate Report</button>
                                    <a href="{% url 'dashboard' %}" class="return-button button">Return to Home</a>
                                </div>
                            </form>


                            <!-- Display progress report details here -->
                <div id="report-details" style="display: {% if report_data %}block{% else %}none{% endif %};">
                    <button class="print-button button" onclick="printReport()">Print</button>
                     <h3>Report Details :</h3>
                       <table>
                      <caption>Suspect Report</caption>
                       <tr>
                       <th>Attribute</th>
                       <th>Value</th>
                       </tr>
                       <tr>
                       <td>Model Accuracy:</td>
                       <td>{{ report_data.accuracy }}</td>
                       </tr>
                       <tr>
                       <td>Suspect Identification:</td>
                       <td>{{ report_data.name }}</td>
                       </tr>
                       <tr>
                       <td>Case Description:</td>
                      <td>{{ report_data.case_description }}</td>
                      </tr>
                      <tr>
                      <td>Predicted Criminal:</td>
                      <td>{{ report_data.result }}</td>
                      </tr>
                     </table>
                     <!-- Print Report Button -->
        
                </div>

    <!-- Keys at the bottom of the table 
    <div class="keys">
        <p><strong>Accuracy:</strong> Explanation of accuracy measurement.</p>
        <p><strong>Suspect Identification:</strong> Explanation of suspect identification.</p>
        <p><strong>Case Description:</strong> Explanation of case description.</p>
        <p><strong>Result:</strong> Explanation of result.</p>
    </div>
-->
    <script>
        function printReport() {
            var reportDetails = document.getElementById('report-details').innerHTML;
            var printWindow = window.open('', '_blank');
            printWindow.document.write('<html><head><title>Print Report</title></head><body>');
            printWindow.document.write('<h2>Suspect Report</h2>');
            printWindow.document.write(reportDetails);
            printWindow.document.write('</body></html>');
            printWindow.document.close();
            printWindow.print();
        }
    </script>
 </section>
 </div>
 <br class="clear">
</div>
<!-- END Content -->
<div id="footer"></div>
</div>
</div>
</div>
    
<!-- END Container -->
    <!-- SVGs -->
    <svg xmlns="http://www.w3.org/2000/svg" class="base-svgs">
        <symbol viewBox="0 0 24 24" width="1rem" height="1rem" id="icon-auto"><path d="M0 0h24v24H0z" fill="currentColor"/><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2V4a8 8 0 1 0 0 16z"/></symbol>
        <symbol viewBox="0 0 24 24" width="1rem" height="1rem" id="icon-moon"><path d="M0 0h24v24H0z" fill="currentColor"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol>
        <symbol viewBox="0 0 24 24" width="1rem" height="1rem" id="icon-sun"><path d="M0 0h24v24H0z" fill="currentColor"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol>
    </svg>
    <!-- END SVGs -->
</body>
</html>